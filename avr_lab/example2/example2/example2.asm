.include "m1280def.inc"
	LDI R16,HIGH(RAMEND)
	OUT SPH,R16
	LDI R16,LOW(RAMEND)
	OUT SPL,R16

	LDI R16,0xFF
	STS DDRK , R16
	OUT DDRF , R16


	LDI R17 , 0x00
	LDI R18 , 0x00
	LDI R19 , 0x00
	LDI R20 , 0x00
	LDI R29 , 0x00
START1 :
	INC R29
	CPI R29 , 0x10
	BRNE NOTINC
	LDI R29 , 0x00
	INC R17
	CPI R17 , 0x0A
	BRNE START2
	LDI R17 , 0x00
	INC R18

START2:
	;INC R18
	CPI R18 , 0x0A
	BRNE START3
	LDI R18 , 0x00
	INC R19

START3:
	;INC R19
	CPI R19 , 0x0A
	BRNE START4
	LDI R19 , 0x00
	INC R20

START4:
	CPI R20 , 0x09
	BRNE ROUND2
	LDI R17 , 0x00
	LDI R18 , 0x00
	LDI R19 , 0x00
	LDI R20 , 0x00

NOTINC:

ROUND2:
NUM0:CPI R17 , 0x00
	BRNE NUM1
	LDI R31 , 0xEB
	
NUM1:CPI R17 , 0x01
	BRNE NUM2
	LDI R31 , 0x88 
NUM2:CPI R17 , 0x02
	BRNE NUM3
	LDI R31 , 0xB3 
NUM3:CPI R17 , 0x03
	BRNE NUM4
	LDI R31 , 0xBA 
NUM4:CPI R17 , 0x04
	BRNE NUM5
	LDI R31 , 0xD8 
NUM5:CPI R17 , 0x05
	BRNE NUM6
	LDI R31 , 0x7A 
NUM6:CPI R17 , 0x06
	BRNE NUM7
	LDI R31 , 0x7B 
NUM7:CPI R17 , 0x07
	BRNE NUM8
	LDI R31 , 0xA8 
NUM8:CPI R17 , 0x08
	BRNE NUM9
	LDI R31 , 0xFB 
NUM9:CPI R17 , 0x09
	BRNE FINAL
	LDI R31 , 0xFA
FINAL: STS PORTK , R31
	LDI R16 , 0b10000000
	OUT PORTF , R16
	CALL DELAY1

NUM01:CPI R18 , 0x00
	BRNE NUM11
	LDI R31 , 0xEB 
NUM11:CPI R18 , 0x01
	BRNE NUM21
	LDI R31 , 0x88 
NUM21:CPI R18 , 0x02
	BRNE NUM31
	LDI R31 , 0xB3 
NUM31:CPI R18 , 0x03
	BRNE NUM41
	LDI R31 , 0xBA 
NUM41:CPI R18 , 0x04
	BRNE NUM51
	LDI R31 , 0xD8 
NUM51:CPI R18 , 0x05
	BRNE NUM61
	LDI R31 , 0x7A 
NUM61:CPI R18 , 0x06
	BRNE NUM71
	LDI R31 , 0x7B 
NUM71:CPI R18 , 0x07
	BRNE NUM81
	LDI R31 , 0xA8 
NUM81:CPI R18 , 0x08
	BRNE NUM91
	LDI R31 , 0xFB 
NUM91:CPI R18 , 0x09
	BRNE FINAL1
	LDI R31 , 0xFA
FINAL1: STS PORTK , R31
	LDI R16 , 0b01000000
	OUT PORTF , R16
	CALL DELAY1

NUM02:CPI R19 , 0x00
	BRNE NUM12
	LDI R31 , 0xEB 
NUM12:CPI R19 , 0x01
	BRNE NUM22
	LDI R31 , 0x88 
NUM22:CPI R19 , 0x02
	BRNE NUM32
	LDI R31 , 0xB3 
NUM32:CPI R19 , 0x03
	BRNE NUM42
	LDI R31 , 0xBA 
NUM42:CPI R19 , 0x04
	BRNE NUM52
	LDI R31 , 0xD8 
NUM52:CPI R19 , 0x05
	BRNE NUM62
	LDI R31 , 0x7A 
NUM62:CPI R19 , 0x06
	BRNE NUM72
	LDI R31 , 0x7B 
NUM72:CPI R19 , 0x07
	BRNE NUM82
	LDI R31 , 0xA8 
NUM82:CPI R19 , 0x08
	BRNE NUM92
	LDI R31 , 0xFB 
NUM92:CPI R19 , 0x09
	BRNE FINAL2
	LDI R31 , 0xFA
FINAL2: STS PORTK , R31
	LDI R16 , 0b00100000
	OUT PORTF , R16
	CALL DELAY1

NUM03:CPI R20 , 0x00
	BRNE NUM13
	LDI R31 , 0xEB 
NUM13:CPI R20 , 0x01
	BRNE NUM23
	LDI R31 , 0x88 
NUM23:CPI R20 , 0x02
	BRNE NUM33
	LDI R31 , 0xB3 
NUM33:CPI R20 , 0x03
	BRNE NUM43
	LDI R31 , 0xBA 
NUM43:CPI R20 , 0x04
	BRNE NUM53
	LDI R31 , 0xD8 
NUM53:CPI R20 , 0x05
	BRNE NUM63
	LDI R31 , 0x7A 
NUM63:CPI R20 , 0x06
	BRNE NUM73
	LDI R31 , 0x7B 
NUM73:CPI R20 , 0x07
	BRNE NUM83
	LDI R31 , 0xA8 
NUM83:CPI R20 , 0x08
	BRNE NUM93
	LDI R31 , 0xFB 
NUM93:CPI R20 , 0x09
	BRNE FINAL3
	LDI R31 , 0xFA
FINAL3: STS PORTK , R31
	LDI R16 , 0b00010000
	OUT PORTF , R16
	CALL DELAY1
	
	RJMP START1

DELAY1: IN R21,PINC
L1 : LDI R22,0x0F
L2 : LDI R23,0x01
L3 : DEC R23
	BRNE L3
	DEC R22
	BRNE L2
	DEC R21
	BRNE L1
	RET
	

	

	

